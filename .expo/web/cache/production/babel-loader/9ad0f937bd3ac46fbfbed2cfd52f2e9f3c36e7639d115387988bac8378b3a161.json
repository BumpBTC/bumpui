{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import axios from'axios';import{getToken}from'./auth';import AsyncStorage from'@react-native-async-storage/async-storage';var api=axios.create({baseURL:'http://192.168.1.199:5000/api'});export var signup=function(){var _ref=_asyncToGenerator(function*(username,email,password){var response=yield api.post('/auth/signup',{username:username,email:email,password:password});return response.data;});return function signup(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export var login=function(){var _ref2=_asyncToGenerator(function*(username,password){var response=yield api.post('/auth/login',{username:username,password:password});return response.data;});return function login(_x4,_x5){return _ref2.apply(this,arguments);};}();export var getWalletInfo=function(){var _ref3=_asyncToGenerator(function*(){try{var token=yield AsyncStorage.getItem('userToken');var response=yield api.get('/wallet/info',{headers:{Authorization:`Bearer ${token}`}});return response.data;}catch(error){console.error('Error fetching wallet info:',error);throw error;}});return function getWalletInfo(){return _ref3.apply(this,arguments);};}();api.interceptors.request.use(function(){var _ref4=_asyncToGenerator(function*(config){var token=yield AsyncStorage.getItem('userToken');if(token){config.headers.Authorization=`Bearer ${token}`;}return config;});return function(_x6){return _ref4.apply(this,arguments);};}(),function(error){return Promise.reject(error);});api.interceptors.response.use(function(response){return response;},function(error){if(error.response){console.error(\"Error response:\",error.response.data);console.error(\"Error status:\",error.response.status);console.error(\"Error headers:\",error.response.headers);}else if(error.request){console.error(\"Error request:\",error.request);}else{console.error('Error message:',error.message);}return Promise.reject(error);});export default api;","map":{"version":3,"names":["axios","getToken","AsyncStorage","api","create","baseURL","signup","_ref","_asyncToGenerator","username","email","password","response","post","data","_x","_x2","_x3","apply","arguments","login","_ref2","_x4","_x5","getWalletInfo","_ref3","token","getItem","get","headers","Authorization","error","console","interceptors","request","use","_ref4","config","_x6","Promise","reject","status","message"],"sources":["C:/appdev/btcwallet/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport { getToken } from './auth';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'http://192.168.1.199:5000/api',\r\n});\r\n\r\nexport const signup = async (username, email, password) => {\r\n  const response = await api.post('/auth/signup', { username, email, password });\r\n  return response.data;\r\n};\r\n\r\nexport const login = async (username, password) => {\r\n  const response = await api.post('/auth/login', { username, password });\r\n  return response.data;\r\n};\r\n\r\nexport const getWalletInfo = async () => {\r\n  try {\r\n    const token = await AsyncStorage.getItem('userToken');\r\n    const response = await api.get('/wallet/info', {\r\n      headers: { Authorization: `Bearer ${token}` }\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching wallet info:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\napi.interceptors.request.use(\r\n  async (config) => {\r\n    const token = await AsyncStorage.getItem('userToken');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => response,\r\n  (error) => {\r\n    if (error.response) {\r\n      // The request was made and the server responded with a status code\r\n      // that falls out of the range of 2xx\r\n      console.error(\"Error response:\", error.response.data);\r\n      console.error(\"Error status:\", error.response.status);\r\n      console.error(\"Error headers:\", error.response.headers);\r\n    } else if (error.request) {\r\n      // The request was made but no response was received\r\n      console.error(\"Error request:\", error.request);\r\n    } else {\r\n      // Something happened in setting up the request that triggered an Error\r\n      console.error('Error message:', error.message);\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}