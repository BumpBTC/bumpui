{"ast":null,"code":"import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState}from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import{useTheme}from'../contexts/ThemeContext';import Input from'../components/Input';import Button from'../components/Button';import api from'../services/api';import*as ImagePicker from'expo-image-picker';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var AddContactScreen=function AddContactScreen(_ref){var navigation=_ref.navigation;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),bitcoinAddress=_useState4[0],setBitcoinAddress=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),lightningPublicKey=_useState6[0],setLightningPublicKey=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),litecoinAddress=_useState8[0],setLitecoinAddress=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),picture=_useState10[0],setPicture=_useState10[1];var _useTheme=useTheme(),colors=_useTheme.colors;var handleAddContact=function(){var _ref2=_asyncToGenerator(function*(){try{var formData=new FormData();formData.append('name',name);formData.append('bitcoinAddress',bitcoinAddress);formData.append('lightningPublicKey',lightningPublicKey);formData.append('litecoinAddress',litecoinAddress);if(picture){formData.append('picture',{uri:picture,type:'image/jpeg',name:'profile.jpg'});}yield api.post('/contacts',formData,{headers:{'Content-Type':'multipart/form-data'}});navigation.goBack();}catch(error){console.error('Failed to add contact:',error);Alert.alert('Error','Failed to add contact');}});return function handleAddContact(){return _ref2.apply(this,arguments);};}();var handleChoosePhoto=function(){var _ref3=_asyncToGenerator(function*(){var result=yield ImagePicker.launchImageLibraryAsync({mediaTypes:ImagePicker.MediaTypeOptions.Images,allowsEditing:true,aspect:[1,1],quality:0.5});if(!result.canceled){setPicture(result.assets[0].uri);}});return function handleChoosePhoto(){return _ref3.apply(this,arguments);};}();return _jsxs(View,{style:[styles.container,{backgroundColor:colors.background}],children:[_jsx(TouchableOpacity,{onPress:handleChoosePhoto,style:styles.photoContainer,children:_jsx(Image,{source:picture?{uri:picture}:require('../assets/default-avatar.png'),style:styles.photo})}),_jsx(Input,{label:\"Name\",value:name,onChangeText:setName,placeholder:\"Enter contact name\"}),_jsx(Input,{label:\"Bitcoin Address\",value:bitcoinAddress,onChangeText:setBitcoinAddress,placeholder:\"Enter Bitcoin address\"}),_jsx(Input,{label:\"Lightning Public Key\",value:lightningPublicKey,onChangeText:setLightningPublicKey,placeholder:\"Enter Lightning public key\"}),_jsx(Input,{label:\"Litecoin Address\",value:litecoinAddress,onChangeText:setLitecoinAddress,placeholder:\"Enter Litecoin address\"}),_jsx(Button,{title:\"Add Contact\",onPress:handleAddContact,style:styles.addButton})]});};var styles=StyleSheet.create({container:{flex:1,padding:20},addButton:{marginTop:20},photoContainer:{alignItems:'center',marginBottom:20},photo:{width:100,height:100,borderRadius:50}});export default AddContactScreen;","map":{"version":3,"names":["React","useState","View","StyleSheet","Image","TouchableOpacity","Alert","useTheme","Input","Button","api","ImagePicker","jsx","_jsx","jsxs","_jsxs","AddContactScreen","_ref","navigation","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","bitcoinAddress","setBitcoinAddress","_useState5","_useState6","lightningPublicKey","setLightningPublicKey","_useState7","_useState8","litecoinAddress","setLitecoinAddress","_useState9","_useState10","picture","setPicture","_useTheme","colors","handleAddContact","_ref2","_asyncToGenerator","formData","FormData","append","uri","type","post","headers","goBack","error","console","alert","apply","arguments","handleChoosePhoto","_ref3","result","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","Images","allowsEditing","aspect","quality","canceled","assets","style","styles","container","backgroundColor","background","children","onPress","photoContainer","source","require","photo","label","value","onChangeText","placeholder","title","addButton","create","flex","padding","marginTop","alignItems","marginBottom","width","height","borderRadius"],"sources":["C:/appdev/btcwallet/src/screens/AddContactScreen.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { View, StyleSheet, Image, TouchableOpacity, Alert } from 'react-native';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport Input from '../components/Input';\r\nimport Button from '../components/Button';\r\nimport api from '../services/api';\r\nimport * as ImagePicker from 'expo-image-picker';\r\n\r\nconst AddContactScreen = ({ navigation }) => {\r\n  const [name, setName] = useState('');\r\n  const [bitcoinAddress, setBitcoinAddress] = useState('');\r\n  const [lightningPublicKey, setLightningPublicKey] = useState('');\r\n  const [litecoinAddress, setLitecoinAddress] = useState('');\r\n  const [picture, setPicture] = useState(null);\r\n  const { colors } = useTheme();\r\n\r\n  const handleAddContact = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('name', name);\r\n      formData.append('bitcoinAddress', bitcoinAddress);\r\n      formData.append('lightningPublicKey', lightningPublicKey);\r\n      formData.append('litecoinAddress', litecoinAddress);\r\n      if (picture) {\r\n        formData.append('picture', {\r\n          uri: picture,\r\n          type: 'image/jpeg',\r\n          name: 'profile.jpg',\r\n        });\r\n      }\r\n\r\n      await api.post('/contacts', formData, {\r\n        headers: { 'Content-Type': 'multipart/form-data' },\r\n      });\r\n      navigation.goBack();\r\n    } catch (error) {\r\n      console.error('Failed to add contact:', error);\r\n      Alert.alert('Error', 'Failed to add contact');\r\n    }\r\n  };\r\n\r\n  const handleChoosePhoto = async () => {\r\n    const result = await ImagePicker.launchImageLibraryAsync({\r\n      mediaTypes: ImagePicker.MediaTypeOptions.Images,\r\n      allowsEditing: true,\r\n      aspect: [1, 1],\r\n      quality: 0.5,\r\n    });\r\n\r\n    if (!result.canceled) {\r\n      setPicture(result.assets[0].uri);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={[styles.container, { backgroundColor: colors.background }]}>\r\n           <TouchableOpacity onPress={handleChoosePhoto} style={styles.photoContainer}>\r\n        <Image\r\n          source={picture ? { uri: picture } : require('../assets/default-avatar.png')}\r\n          style={styles.photo}\r\n        />\r\n      </TouchableOpacity>\r\n      <Input\r\n        label=\"Name\"\r\n        value={name}\r\n        onChangeText={setName}\r\n        placeholder=\"Enter contact name\"\r\n      />\r\n      <Input\r\n        label=\"Bitcoin Address\"\r\n        value={bitcoinAddress}\r\n        onChangeText={setBitcoinAddress}\r\n        placeholder=\"Enter Bitcoin address\"\r\n      />\r\n      <Input\r\n        label=\"Lightning Public Key\"\r\n        value={lightningPublicKey}\r\n        onChangeText={setLightningPublicKey}\r\n        placeholder=\"Enter Lightning public key\"\r\n      />\r\n      <Input\r\n        label=\"Litecoin Address\"\r\n        value={litecoinAddress}\r\n        onChangeText={setLitecoinAddress}\r\n        placeholder=\"Enter Litecoin address\"\r\n      />\r\n      <Button title=\"Add Contact\" onPress={handleAddContact} style={styles.addButton} />\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 20,\r\n  },\r\n  addButton: {\r\n    marginTop: 20,\r\n  },\r\n  photoContainer: {\r\n    alignItems: 'center',\r\n    marginBottom: 20,\r\n  },\r\n  photo: {\r\n    width: 100,\r\n    height: 100,\r\n    borderRadius: 50,\r\n  },\r\n});\r\n\r\nexport default AddContactScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}