{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect,useContext,useCallback}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Animated from\"react-native-web/dist/exports/Animated\";import NfcManager,{NfcTech,Ndef}from'react-native-nfc-manager';import{Svg,Path}from'react-native-svg';import LottieView from'lottie-react-native';import{useTheme}from'../contexts/ThemeContext';import{WalletContext}from'../contexts/WalletContext';import{LinearGradient}from'expo-linear-gradient';import BalanceDisplay from'../components/BalanceDisplay';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var NFCPayScreen=function NFCPayScreen(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isNfcSupported=_useState2[0],setIsNfcSupported=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isProcessing=_useState6[0],setIsProcessing=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isComplete=_useState8[0],setIsComplete=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),nfcChannelBalance=_useState10[0],setNfcChannelBalance=_useState10[1];var _useState11=useState('send'),_useState12=_slicedToArray(_useState11,2),mode=_useState12[0],setMode=_useState12[1];var _useTheme=useTheme(),colors=_useTheme.colors;var _useContext=useContext(WalletContext),createNfcInvoice=_useContext.createNfcInvoice,payNfcInvoice=_useContext.payNfcInvoice,getNfcChannelBalance=_useContext.getNfcChannelBalance;var pixelAnimation=new Animated.Value(0);useEffect(function(){Animated.loop(Animated.sequence([Animated.timing(pixelAnimation,{toValue:1,duration:1000,useNativeDriver:true}),Animated.timing(pixelAnimation,{toValue:0,duration:1000,useNativeDriver:true})])).start();var checkNfcSupport=function(){var _ref=_asyncToGenerator(function*(){var supported=yield NfcManager.isSupported();if(supported){yield NfcManager.start();setIsNfcSupported(true);}});return function checkNfcSupport(){return _ref.apply(this,arguments);};}();checkNfcSupport();fetchNfcChannelBalance();return function(){return NfcManager.cancelTechnologyRequest().catch(function(){return 0;});};},[]);var fetchNfcChannelBalance=function(){var _ref2=_asyncToGenerator(function*(){try{var balance=yield getNfcChannelBalance();setNfcChannelBalance(balance);}catch(error){console.error('Failed to fetch NFC channel balance:',error);}});return function fetchNfcChannelBalance(){return _ref2.apply(this,arguments);};}();var handleNfcPayment=useCallback(_asyncToGenerator(function*(){if(!isNfcSupported){Alert.alert('Error','NFC is not supported on this device');return;}setIsProcessing(true);try{yield NfcManager.requestTechnology(NfcTech.Ndef);if(mode==='send'){var invoice=yield createNfcInvoice(parseFloat(amount),'NFC Payment');var ndef=Ndef.encodeMessage([Ndef.textRecord(invoice.paymentRequest)]);yield NfcManager.setNdefPush(ndef);Alert.alert('Ready to Send','Touch phones to initiate transfer');}else{var tag=yield NfcManager.getTag();if(!tag)throw new Error('No tag found');var _ndef=tag.ndefMessage[0];var paymentRequest=Ndef.text.decodePayload(_ndef.payload);yield payNfcInvoice(paymentRequest);Alert.alert('Success','Payment received successfully');}setIsComplete(true);fetchNfcChannelBalance();}catch(error){console.error('NFC payment error:',error);Alert.alert('Error',error.message||'Failed to complete NFC payment');}finally{NfcManager.cancelTechnologyRequest().catch(function(){return 0;});setIsProcessing(false);}}),[isNfcSupported,mode,amount,createNfcInvoice,payNfcInvoice]);var pixelStyle={opacity:pixelAnimation};if(isComplete){return _jsxs(View,{style:[styles.container,{backgroundColor:colors.background}],children:[_jsx(LottieView,{source:require('../assets/success-animation.json'),autoPlay:true,loop:false,style:styles.successAnimation}),_jsx(Text,{style:[styles.completeText,{color:colors.text}],children:mode==='send'?'Payment Sent!':'Payment Received!'})]});}return _jsxs(LinearGradient,{colors:['#000033','#333333'],style:styles.container,children:[_jsxs(TouchableOpacity,{style:[styles.payButton,{backgroundColor:colors.lightning}],onPress:handleNfcPayment,disabled:isProcessing,children:[_jsx(Animated.View,{style:[styles.pixelOverlay,pixelStyle]}),_jsx(Svg,{height:\"80\",width:\"80\",viewBox:\"0 0 24 24\",style:styles.nfcIcon,children:_jsx(Path,{d:\"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16zM18 6h-5c-1.1 0-2 .9-2 2v2.28c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V8h3v8H8V8h2V6H6v12h12V6z\",fill:\"#FFFFFF\"})}),_jsx(Text,{style:styles.payButtonText,children:isProcessing?'Processing...':'Give your buddy a bump!'})]}),_jsx(BalanceDisplay,{type:\"lightning\",balance:nfcChannelBalance,currency:\"USD\"}),_jsxs(View,{style:styles.modeSelector,children:[_jsx(TouchableOpacity,{style:[styles.modeButton,mode==='send'&&styles.activeMode],onPress:function onPress(){return setMode('send');},children:_jsx(Text,{style:styles.modeButtonText,children:\"Send\"})}),_jsx(TouchableOpacity,{style:[styles.modeButton,mode==='receive'&&styles.activeMode],onPress:function onPress(){return setMode('receive');},children:_jsx(Text,{style:styles.modeButtonText,children:\"Receive\"})})]}),mode==='send'&&_jsx(TextInput,{style:styles.amountInput,value:amount,onChangeText:setAmount,placeholder:\"Enter amount in USD\",keyboardType:\"numeric\",placeholderTextColor:\"#FFFFFF\"})]});};var styles=StyleSheet.create({container:{flex:1,padding:20,alignItems:'center',justifyContent:'center'},modeSelector:{flexDirection:'row',marginBottom:20},modeButton:{padding:10,marginHorizontal:10,borderRadius:5,backgroundColor:'#444'},activeMode:{backgroundColor:'#666'},modeButtonText:{color:'#FFFFFF',fontWeight:'bold'},amountInput:{width:'100%',height:40,borderWidth:1,borderColor:'#FFFFFF',borderRadius:5,paddingHorizontal:10,marginBottom:20,color:'#FFFFFF'},payButton:{width:300,height:300,borderRadius:150,alignItems:'center',justifyContent:'center',overflow:'hidden'},payButtonText:{color:'#FFFFFF',fontSize:24,fontWeight:'bold',textAlign:'center'},pixelOverlay:_objectSpread(_objectSpread({},StyleSheet.absoluteFillObject),{},{backgroundColor:'rgba(255, 255, 255, 0.2)'}),nfcIcon:{marginBottom:10},successAnimation:{width:200,height:200},completeText:{fontSize:24,fontWeight:'bold',marginTop:20}});export default NFCPayScreen;","map":{"version":3,"names":["React","useState","useEffect","useContext","useCallback","View","Text","StyleSheet","TouchableOpacity","Alert","TextInput","Animated","NfcManager","NfcTech","Ndef","Svg","Path","LottieView","useTheme","WalletContext","LinearGradient","BalanceDisplay","jsx","_jsx","jsxs","_jsxs","NFCPayScreen","_useState","_useState2","_slicedToArray","isNfcSupported","setIsNfcSupported","_useState3","_useState4","amount","setAmount","_useState5","_useState6","isProcessing","setIsProcessing","_useState7","_useState8","isComplete","setIsComplete","_useState9","_useState10","nfcChannelBalance","setNfcChannelBalance","_useState11","_useState12","mode","setMode","_useTheme","colors","_useContext","createNfcInvoice","payNfcInvoice","getNfcChannelBalance","pixelAnimation","Value","loop","sequence","timing","toValue","duration","useNativeDriver","start","checkNfcSupport","_ref","_asyncToGenerator","supported","isSupported","apply","arguments","fetchNfcChannelBalance","cancelTechnologyRequest","catch","_ref2","balance","error","console","handleNfcPayment","alert","requestTechnology","invoice","parseFloat","ndef","encodeMessage","textRecord","paymentRequest","setNdefPush","tag","getTag","Error","ndefMessage","text","decodePayload","payload","message","pixelStyle","opacity","style","styles","container","backgroundColor","background","children","source","require","autoPlay","successAnimation","completeText","color","payButton","lightning","onPress","disabled","pixelOverlay","height","width","viewBox","nfcIcon","d","fill","payButtonText","type","currency","modeSelector","modeButton","activeMode","modeButtonText","amountInput","value","onChangeText","placeholder","keyboardType","placeholderTextColor","create","flex","padding","alignItems","justifyContent","flexDirection","marginBottom","marginHorizontal","borderRadius","fontWeight","borderWidth","borderColor","paddingHorizontal","overflow","fontSize","textAlign","_objectSpread","absoluteFillObject","marginTop"],"sources":["C:/appdev/btcwallet/src/screens/NFCPayScreen.js"],"sourcesContent":["import React, { useState, useEffect, useContext, useCallback } from 'react';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Alert, TextInput, Animated } from 'react-native';\r\nimport NfcManager, { NfcTech, Ndef } from 'react-native-nfc-manager';\r\nimport { Svg, Path } from 'react-native-svg';\r\nimport LottieView from 'lottie-react-native';\r\nimport { useTheme } from '../contexts/ThemeContext';\r\nimport { WalletContext } from '../contexts/WalletContext';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport BalanceDisplay from '../components/BalanceDisplay';\r\n\r\nconst NFCPayScreen = () => {\r\n  const [isNfcSupported, setIsNfcSupported] = useState(false);\r\n  const [amount, setAmount] = useState('');\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [isComplete, setIsComplete] = useState(false);\r\n  const [nfcChannelBalance, setNfcChannelBalance] = useState(0);\r\n  const [mode, setMode] = useState('send'); // 'send' or 'receive'\r\n  const { colors } = useTheme();\r\n  const { createNfcInvoice, payNfcInvoice, getNfcChannelBalance } = useContext(WalletContext);\r\n\r\n  const pixelAnimation = new Animated.Value(0);\r\n\r\n  useEffect(() => {\r\n    Animated.loop(\r\n      Animated.sequence([\r\n        Animated.timing(pixelAnimation, { toValue: 1, duration: 1000, useNativeDriver: true }),\r\n        Animated.timing(pixelAnimation, { toValue: 0, duration: 1000, useNativeDriver: true })\r\n      ])\r\n    ).start();\r\n\r\n    const checkNfcSupport = async () => {\r\n      const supported = await NfcManager.isSupported();\r\n      if (supported) {\r\n        await NfcManager.start();\r\n        setIsNfcSupported(true);\r\n      }\r\n    };\r\n    checkNfcSupport();\r\n    fetchNfcChannelBalance();\r\n\r\n    return () => NfcManager.cancelTechnologyRequest().catch(() => 0);\r\n  }, []);\r\n\r\n  const fetchNfcChannelBalance = async () => {\r\n    try {\r\n      const balance = await getNfcChannelBalance();\r\n      setNfcChannelBalance(balance);\r\n    } catch (error) {\r\n      console.error('Failed to fetch NFC channel balance:', error);\r\n    }\r\n  };\r\n\r\n  const handleNfcPayment = useCallback(async () => {\r\n    if (!isNfcSupported) {\r\n      Alert.alert('Error', 'NFC is not supported on this device');\r\n      return;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n\r\n    try {\r\n      await NfcManager.requestTechnology(NfcTech.Ndef);\r\n\r\n      if (mode === 'send') {\r\n        const invoice = await createNfcInvoice(parseFloat(amount), 'NFC Payment');\r\n        const ndef = Ndef.encodeMessage([Ndef.textRecord(invoice.paymentRequest)]);\r\n        await NfcManager.setNdefPush(ndef);\r\n        Alert.alert('Ready to Send', 'Touch phones to initiate transfer');\r\n      } else {\r\n        const tag = await NfcManager.getTag();\r\n        if (!tag) throw new Error('No tag found');\r\n\r\n        const ndef = tag.ndefMessage[0];\r\n        const paymentRequest = Ndef.text.decodePayload(ndef.payload);\r\n\r\n        await payNfcInvoice(paymentRequest);\r\n        Alert.alert('Success', 'Payment received successfully');\r\n      }\r\n\r\n      setIsComplete(true);\r\n      fetchNfcChannelBalance();\r\n    } catch (error) {\r\n      console.error('NFC payment error:', error);\r\n      Alert.alert('Error', error.message || 'Failed to complete NFC payment');\r\n    } finally {\r\n      NfcManager.cancelTechnologyRequest().catch(() => 0);\r\n      setIsProcessing(false);\r\n    }\r\n  }, [isNfcSupported, mode, amount, createNfcInvoice, payNfcInvoice]);\r\n\r\n  const pixelStyle = {\r\n    opacity: pixelAnimation\r\n  };\r\n\r\n  if (isComplete) {\r\n    return (\r\n      <View style={[styles.container, { backgroundColor: colors.background }]}>\r\n        <LottieView\r\n          source={require('../assets/success-animation.json')}\r\n          autoPlay\r\n          loop={false}\r\n          style={styles.successAnimation}\r\n        />\r\n        <Text style={[styles.completeText, { color: colors.text }]}>\r\n          {mode === 'send' ? 'Payment Sent!' : 'Payment Received!'}\r\n        </Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <LinearGradient colors={['#000033', '#333333']} style={styles.container}>\r\n        <TouchableOpacity\r\n        style={[styles.payButton, { backgroundColor: colors.lightning }]}\r\n        onPress={handleNfcPayment}\r\n        disabled={isProcessing}\r\n      >\r\n        <Animated.View style={[styles.pixelOverlay, pixelStyle]} />\r\n        <Svg height=\"80\" width=\"80\" viewBox=\"0 0 24 24\" style={styles.nfcIcon}>\r\n          <Path\r\n            d=\"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16zM18 6h-5c-1.1 0-2 .9-2 2v2.28c-.6.35-1 .98-1 1.72 0 1.1.9 2 2 2s2-.9 2-2c0-.74-.4-1.38-1-1.72V8h3v8H8V8h2V6H6v12h12V6z\"\r\n            fill=\"#FFFFFF\"\r\n          />\r\n        </Svg>\r\n        <Text style={styles.payButtonText}>\r\n          {isProcessing ? 'Processing...' : 'Give your buddy a bump!'}\r\n        </Text>\r\n      </TouchableOpacity>\r\n      <BalanceDisplay\r\n        type=\"lightning\"\r\n        balance={nfcChannelBalance}\r\n        currency=\"USD\"\r\n      />\r\n      <View style={styles.modeSelector}>\r\n        <TouchableOpacity\r\n          style={[styles.modeButton, mode === 'send' && styles.activeMode]}\r\n          onPress={() => setMode('send')}\r\n        >\r\n          <Text style={styles.modeButtonText}>Send</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity\r\n          style={[styles.modeButton, mode === 'receive' && styles.activeMode]}\r\n          onPress={() => setMode('receive')}\r\n        >\r\n          <Text style={styles.modeButtonText}>Receive</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n      {mode === 'send' && (\r\n        <TextInput\r\n          style={styles.amountInput}\r\n          value={amount}\r\n          onChangeText={setAmount}\r\n          placeholder=\"Enter amount in USD\"\r\n          keyboardType=\"numeric\"\r\n          placeholderTextColor=\"#FFFFFF\"\r\n        />\r\n      )}\r\n\r\n    </LinearGradient>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    padding: 20,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  modeSelector: {\r\n    flexDirection: 'row',\r\n    marginBottom: 20,\r\n  },\r\n  modeButton: {\r\n    padding: 10,\r\n    marginHorizontal: 10,\r\n    borderRadius: 5,\r\n    backgroundColor: '#444',\r\n  },\r\n  activeMode: {\r\n    backgroundColor: '#666',\r\n  },\r\n  modeButtonText: {\r\n    color: '#FFFFFF',\r\n    fontWeight: 'bold',\r\n  },\r\n  amountInput: {\r\n    width: '100%',\r\n    height: 40,\r\n    borderWidth: 1,\r\n    borderColor: '#FFFFFF',\r\n    borderRadius: 5,\r\n    paddingHorizontal: 10,\r\n    marginBottom: 20,\r\n    color: '#FFFFFF',\r\n  },\r\n  payButton: {\r\n    width: 300,\r\n    height: 300,\r\n    borderRadius: 150,\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    overflow: 'hidden',\r\n  },\r\n  payButtonText: {\r\n    color: '#FFFFFF',\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    textAlign: 'center',\r\n  },\r\n  pixelOverlay: {\r\n    ...StyleSheet.absoluteFillObject,\r\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\r\n  },\r\n  nfcIcon: {\r\n    marginBottom: 10,\r\n  },\r\n  successAnimation: {\r\n    width: 200,\r\n    height: 200,\r\n  },\r\n  completeText: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    marginTop: 20,\r\n  },\r\n});\r\n\r\nexport default NFCPayScreen;\r\n"],"mappings":"uzBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,CAAEC,WAAW,KAAQ,OAAO,CAAC,OAAAC,IAAA,iDAAAC,IAAA,iDAAAC,UAAA,uDAAAC,gBAAA,6DAAAC,KAAA,kDAAAC,SAAA,sDAAAC,QAAA,8CAE5E,MAAO,CAAAC,UAAU,EAAIC,OAAO,CAAEC,IAAI,KAAQ,0BAA0B,CACpE,OAASC,GAAG,CAAEC,IAAI,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,UAAU,KAAM,qBAAqB,CAC5C,OAASC,QAAQ,KAAQ,0BAA0B,CACnD,OAASC,aAAa,KAAQ,2BAA2B,CACzD,OAASC,cAAc,KAAQ,sBAAsB,CACrD,MAAO,CAAAC,cAAc,KAAM,8BAA8B,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzB,IAAAC,SAAA,CAA4C1B,QAAQ,CAAC,KAAK,CAAC,CAAA2B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApDG,cAAc,CAAAF,UAAA,IAAEG,iBAAiB,CAAAH,UAAA,IACxC,IAAAI,UAAA,CAA4B/B,QAAQ,CAAC,EAAE,CAAC,CAAAgC,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAwCnC,QAAQ,CAAC,KAAK,CAAC,CAAAoC,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAhDE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,IAAAG,UAAA,CAAoCvC,QAAQ,CAAC,KAAK,CAAC,CAAAwC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA5CE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAkD3C,QAAQ,CAAC,CAAC,CAAC,CAAA4C,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAAtDE,iBAAiB,CAAAD,WAAA,IAAEE,oBAAoB,CAAAF,WAAA,IAC9C,IAAAG,WAAA,CAAwB/C,QAAQ,CAAC,MAAM,CAAC,CAAAgD,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAjCE,IAAI,CAAAD,WAAA,IAAEE,OAAO,CAAAF,WAAA,IACpB,IAAAG,SAAA,CAAmBlC,QAAQ,CAAC,CAAC,CAArBmC,MAAM,CAAAD,SAAA,CAANC,MAAM,CACd,IAAAC,WAAA,CAAkEnD,UAAU,CAACgB,aAAa,CAAC,CAAnFoC,gBAAgB,CAAAD,WAAA,CAAhBC,gBAAgB,CAAEC,aAAa,CAAAF,WAAA,CAAbE,aAAa,CAAEC,oBAAoB,CAAAH,WAAA,CAApBG,oBAAoB,CAE7D,GAAM,CAAAC,cAAc,CAAG,GAAI,CAAA/C,QAAQ,CAACgD,KAAK,CAAC,CAAC,CAAC,CAE5CzD,SAAS,CAAC,UAAM,CACdS,QAAQ,CAACiD,IAAI,CACXjD,QAAQ,CAACkD,QAAQ,CAAC,CAChBlD,QAAQ,CAACmD,MAAM,CAACJ,cAAc,CAAE,CAAEK,OAAO,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAI,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CACtFtD,QAAQ,CAACmD,MAAM,CAACJ,cAAc,CAAE,CAAEK,OAAO,CAAE,CAAC,CAAEC,QAAQ,CAAE,IAAI,CAAEC,eAAe,CAAE,IAAK,CAAC,CAAC,CACvF,CACH,CAAC,CAACC,KAAK,CAAC,CAAC,CAET,GAAM,CAAAC,eAAe,gBAAAC,IAAA,CAAAC,iBAAA,CAAG,WAAY,CAClC,GAAM,CAAAC,SAAS,MAAS,CAAA1D,UAAU,CAAC2D,WAAW,CAAC,CAAC,CAChD,GAAID,SAAS,CAAE,CACb,KAAM,CAAA1D,UAAU,CAACsD,KAAK,CAAC,CAAC,CACxBnC,iBAAiB,CAAC,IAAI,CAAC,CACzB,CACF,CAAC,iBANK,CAAAoC,eAAeA,CAAA,SAAAC,IAAA,CAAAI,KAAA,MAAAC,SAAA,OAMpB,CACDN,eAAe,CAAC,CAAC,CACjBO,sBAAsB,CAAC,CAAC,CAExB,MAAO,kBAAM,CAAA9D,UAAU,CAAC+D,uBAAuB,CAAC,CAAC,CAACC,KAAK,CAAC,iBAAM,EAAC,GAAC,GAClE,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAF,sBAAsB,gBAAAG,KAAA,CAAAR,iBAAA,CAAG,WAAY,CACzC,GAAI,CACF,GAAM,CAAAS,OAAO,MAAS,CAAArB,oBAAoB,CAAC,CAAC,CAC5CV,oBAAoB,CAAC+B,OAAO,CAAC,CAC/B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAC9D,CACF,CAAC,iBAPK,CAAAL,sBAAsBA,CAAA,SAAAG,KAAA,CAAAL,KAAA,MAAAC,SAAA,OAO3B,CAED,GAAM,CAAAQ,gBAAgB,CAAG7E,WAAW,CAAAiE,iBAAA,CAAC,WAAY,CAC/C,GAAI,CAACvC,cAAc,CAAE,CACnBrB,KAAK,CAACyE,KAAK,CAAC,OAAO,CAAE,qCAAqC,CAAC,CAC3D,OACF,CAEA3C,eAAe,CAAC,IAAI,CAAC,CAErB,GAAI,CACF,KAAM,CAAA3B,UAAU,CAACuE,iBAAiB,CAACtE,OAAO,CAACC,IAAI,CAAC,CAEhD,GAAIoC,IAAI,GAAK,MAAM,CAAE,CACnB,GAAM,CAAAkC,OAAO,MAAS,CAAA7B,gBAAgB,CAAC8B,UAAU,CAACnD,MAAM,CAAC,CAAE,aAAa,CAAC,CACzE,GAAM,CAAAoD,IAAI,CAAGxE,IAAI,CAACyE,aAAa,CAAC,CAACzE,IAAI,CAAC0E,UAAU,CAACJ,OAAO,CAACK,cAAc,CAAC,CAAC,CAAC,CAC1E,KAAM,CAAA7E,UAAU,CAAC8E,WAAW,CAACJ,IAAI,CAAC,CAClC7E,KAAK,CAACyE,KAAK,CAAC,eAAe,CAAE,mCAAmC,CAAC,CACnE,CAAC,IAAM,CACL,GAAM,CAAAS,GAAG,MAAS,CAAA/E,UAAU,CAACgF,MAAM,CAAC,CAAC,CACrC,GAAI,CAACD,GAAG,CAAE,KAAM,IAAI,CAAAE,KAAK,CAAC,cAAc,CAAC,CAEzC,GAAM,CAAAP,KAAI,CAAGK,GAAG,CAACG,WAAW,CAAC,CAAC,CAAC,CAC/B,GAAM,CAAAL,cAAc,CAAG3E,IAAI,CAACiF,IAAI,CAACC,aAAa,CAACV,KAAI,CAACW,OAAO,CAAC,CAE5D,KAAM,CAAAzC,aAAa,CAACiC,cAAc,CAAC,CACnChF,KAAK,CAACyE,KAAK,CAAC,SAAS,CAAE,+BAA+B,CAAC,CACzD,CAEAvC,aAAa,CAAC,IAAI,CAAC,CACnB+B,sBAAsB,CAAC,CAAC,CAC1B,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1CtE,KAAK,CAACyE,KAAK,CAAC,OAAO,CAAEH,KAAK,CAACmB,OAAO,EAAI,gCAAgC,CAAC,CACzE,CAAC,OAAS,CACRtF,UAAU,CAAC+D,uBAAuB,CAAC,CAAC,CAACC,KAAK,CAAC,iBAAM,EAAC,GAAC,CACnDrC,eAAe,CAAC,KAAK,CAAC,CACxB,CACF,CAAC,EAAE,CAACT,cAAc,CAAEoB,IAAI,CAAEhB,MAAM,CAAEqB,gBAAgB,CAAEC,aAAa,CAAC,CAAC,CAEnE,GAAM,CAAA2C,UAAU,CAAG,CACjBC,OAAO,CAAE1C,cACX,CAAC,CAED,GAAIhB,UAAU,CAAE,CACd,MACE,CAAAjB,KAAA,CAACpB,IAAI,EAACgG,KAAK,CAAE,CAACC,MAAM,CAACC,SAAS,CAAE,CAAEC,eAAe,CAAEnD,MAAM,CAACoD,UAAW,CAAC,CAAE,CAAAC,QAAA,EACtEnF,IAAA,CAACN,UAAU,EACT0F,MAAM,CAAEC,OAAO,CAAC,kCAAkC,CAAE,CACpDC,QAAQ,MACRjD,IAAI,CAAE,KAAM,CACZyC,KAAK,CAAEC,MAAM,CAACQ,gBAAiB,CAChC,CAAC,CACFvF,IAAA,CAACjB,IAAI,EAAC+F,KAAK,CAAE,CAACC,MAAM,CAACS,YAAY,CAAE,CAAEC,KAAK,CAAE3D,MAAM,CAAC0C,IAAK,CAAC,CAAE,CAAAW,QAAA,CACxDxD,IAAI,GAAK,MAAM,CAAG,eAAe,CAAG,mBAAmB,CACpD,CAAC,EACH,CAAC,CAEX,CAEA,MACE,CAAAzB,KAAA,CAACL,cAAc,EAACiC,MAAM,CAAE,CAAC,SAAS,CAAE,SAAS,CAAE,CAACgD,KAAK,CAAEC,MAAM,CAACC,SAAU,CAAAG,QAAA,EACpEjF,KAAA,CAACjB,gBAAgB,EACjB6F,KAAK,CAAE,CAACC,MAAM,CAACW,SAAS,CAAE,CAAET,eAAe,CAAEnD,MAAM,CAAC6D,SAAU,CAAC,CAAE,CACjEC,OAAO,CAAElC,gBAAiB,CAC1BmC,QAAQ,CAAE9E,YAAa,CAAAoE,QAAA,EAEvBnF,IAAA,CAACZ,QAAQ,CAACN,IAAI,EAACgG,KAAK,CAAE,CAACC,MAAM,CAACe,YAAY,CAAElB,UAAU,CAAE,CAAE,CAAC,CAC3D5E,IAAA,CAACR,GAAG,EAACuG,MAAM,CAAC,IAAI,CAACC,KAAK,CAAC,IAAI,CAACC,OAAO,CAAC,WAAW,CAACnB,KAAK,CAAEC,MAAM,CAACmB,OAAQ,CAAAf,QAAA,CACpEnF,IAAA,CAACP,IAAI,EACH0G,CAAC,CAAC,oNAAoN,CACtNC,IAAI,CAAC,SAAS,CACf,CAAC,CACC,CAAC,CACNpG,IAAA,CAACjB,IAAI,EAAC+F,KAAK,CAAEC,MAAM,CAACsB,aAAc,CAAAlB,QAAA,CAC/BpE,YAAY,CAAG,eAAe,CAAG,yBAAyB,CACvD,CAAC,EACS,CAAC,CACnBf,IAAA,CAACF,cAAc,EACbwG,IAAI,CAAC,WAAW,CAChB/C,OAAO,CAAEhC,iBAAkB,CAC3BgF,QAAQ,CAAC,KAAK,CACf,CAAC,CACFrG,KAAA,CAACpB,IAAI,EAACgG,KAAK,CAAEC,MAAM,CAACyB,YAAa,CAAArB,QAAA,EAC/BnF,IAAA,CAACf,gBAAgB,EACf6F,KAAK,CAAE,CAACC,MAAM,CAAC0B,UAAU,CAAE9E,IAAI,GAAK,MAAM,EAAIoD,MAAM,CAAC2B,UAAU,CAAE,CACjEd,OAAO,CAAE,QAAT,CAAAA,OAAOA,CAAA,QAAQ,CAAAhE,OAAO,CAAC,MAAM,CAAC,EAAC,CAAAuD,QAAA,CAE/BnF,IAAA,CAACjB,IAAI,EAAC+F,KAAK,CAAEC,MAAM,CAAC4B,cAAe,CAAAxB,QAAA,CAAC,MAAI,CAAM,CAAC,CAC/B,CAAC,CACnBnF,IAAA,CAACf,gBAAgB,EACf6F,KAAK,CAAE,CAACC,MAAM,CAAC0B,UAAU,CAAE9E,IAAI,GAAK,SAAS,EAAIoD,MAAM,CAAC2B,UAAU,CAAE,CACpEd,OAAO,CAAE,QAAT,CAAAA,OAAOA,CAAA,QAAQ,CAAAhE,OAAO,CAAC,SAAS,CAAC,EAAC,CAAAuD,QAAA,CAElCnF,IAAA,CAACjB,IAAI,EAAC+F,KAAK,CAAEC,MAAM,CAAC4B,cAAe,CAAAxB,QAAA,CAAC,SAAO,CAAM,CAAC,CAClC,CAAC,EACf,CAAC,CACNxD,IAAI,GAAK,MAAM,EACd3B,IAAA,CAACb,SAAS,EACR2F,KAAK,CAAEC,MAAM,CAAC6B,WAAY,CAC1BC,KAAK,CAAElG,MAAO,CACdmG,YAAY,CAAElG,SAAU,CACxBmG,WAAW,CAAC,qBAAqB,CACjCC,YAAY,CAAC,SAAS,CACtBC,oBAAoB,CAAC,SAAS,CAC/B,CACF,EAEa,CAAC,CAErB,CAAC,CAED,GAAM,CAAAlC,MAAM,CAAG/F,UAAU,CAACkI,MAAM,CAAC,CAC/BlC,SAAS,CAAE,CACTmC,IAAI,CAAE,CAAC,CACPC,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAClB,CAAC,CACDd,YAAY,CAAE,CACZe,aAAa,CAAE,KAAK,CACpBC,YAAY,CAAE,EAChB,CAAC,CACDf,UAAU,CAAE,CACVW,OAAO,CAAE,EAAE,CACXK,gBAAgB,CAAE,EAAE,CACpBC,YAAY,CAAE,CAAC,CACfzC,eAAe,CAAE,MACnB,CAAC,CACDyB,UAAU,CAAE,CACVzB,eAAe,CAAE,MACnB,CAAC,CACD0B,cAAc,CAAE,CACdlB,KAAK,CAAE,SAAS,CAChBkC,UAAU,CAAE,MACd,CAAC,CACDf,WAAW,CAAE,CACXZ,KAAK,CAAE,MAAM,CACbD,MAAM,CAAE,EAAE,CACV6B,WAAW,CAAE,CAAC,CACdC,WAAW,CAAE,SAAS,CACtBH,YAAY,CAAE,CAAC,CACfI,iBAAiB,CAAE,EAAE,CACrBN,YAAY,CAAE,EAAE,CAChB/B,KAAK,CAAE,SACT,CAAC,CACDC,SAAS,CAAE,CACTM,KAAK,CAAE,GAAG,CACVD,MAAM,CAAE,GAAG,CACX2B,YAAY,CAAE,GAAG,CACjBL,UAAU,CAAE,QAAQ,CACpBC,cAAc,CAAE,QAAQ,CACxBS,QAAQ,CAAE,QACZ,CAAC,CACD1B,aAAa,CAAE,CACbZ,KAAK,CAAE,SAAS,CAChBuC,QAAQ,CAAE,EAAE,CACZL,UAAU,CAAE,MAAM,CAClBM,SAAS,CAAE,QACb,CAAC,CACDnC,YAAY,CAAAoC,aAAA,CAAAA,aAAA,IACPlJ,UAAU,CAACmJ,kBAAkB,MAChClD,eAAe,CAAE,0BAA0B,EAC5C,CACDiB,OAAO,CAAE,CACPsB,YAAY,CAAE,EAChB,CAAC,CACDjC,gBAAgB,CAAE,CAChBS,KAAK,CAAE,GAAG,CACVD,MAAM,CAAE,GACV,CAAC,CACDP,YAAY,CAAE,CACZwC,QAAQ,CAAE,EAAE,CACZL,UAAU,CAAE,MAAM,CAClBS,SAAS,CAAE,EACb,CACF,CAAC,CAAC,CAEF,cAAe,CAAAjI,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}